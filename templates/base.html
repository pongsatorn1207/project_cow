<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ß{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body { background:#f5f7fb; }
    .app-shell { display:flex; min-height:100vh; }
    .sidebar {
      width: 240px; background:#1f6feb; color:#fff; padding:16px 12px; position:sticky; top:0; height:100vh;
    }
    .sidebar .brand { font-weight:700; font-size:20px; line-height:1.2; }
    .nav-link {
      color:#e6f0ff; border-radius:10px; padding:.65rem .9rem; display:flex; align-items:center; gap:.6rem;
    }
    .nav-link:hover { background:rgba(255,255,255,.15); color:#fff; }
    .nav-link.active { background:#fff; color:#1f6feb; font-weight:600; }
    .content { flex:1; padding:22px 28px; }
  </style>
  {% block head_extra %}{% endblock %}
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="brand mb-3">üêÆ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ß</div>
      <nav class="nav flex-column gap-2">
        <a class="nav-link {% if active_page=='dashboard' %}active{% endif %}" href="{{ url_for('dashboard') }}">üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</a>
        <a class="nav-link {% if active_page=='realtime' %}active{% endif %}" href="{{ url_for('realtime_camera') }}">üì∑ ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</a>
        {% if session.get('role') == 'admin' %}
        <a class="nav-link {% if active_page=='users' %}active{% endif %}" href="{{ url_for('users_page') }}">üë• ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</a>
        {% endif %}
        <a class="nav-link" href="{{ url_for('logout') }}">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
      </nav>
    </aside>

    <main class="content">
      {% block content %}{% endblock %}
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  {% block body_js %}{% endblock %}
</body>
</html>
